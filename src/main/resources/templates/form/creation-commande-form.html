<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Formulaire</title>
</head>
<body>

<h1>Formulaire de création de commande</h1>

<div>

    <h2>Information de la commande</h2>
    <li th:text="${' Commande Numéro : ' + commande.id_commande}"></li>

    <h2> État de la commande </h2>
    <ul>
<!--  faire un th:each pour afficher le prix de chaque article et les additionner et les enregistrer dans prix total      -->
        <li th:text="${'Prix de la commande : ' + commande.prix_total}"></li>
        <li th:if="${commande.est_paye} == 0">Commande non réglées</li>
        <li th:if="${commande.est_paye} == 1">Commande réglées</li>
        <li th:text="${'Date et heure de livraison : ' + commande.date_heure_livraison.minusHours(2)}"></li>
        <li th:if="${commande.livraison} == 1">Type de commande : Livraison</li>
        <li th:if="${commande.livraison} == 0">Type de commande : A emporter</li>
    </ul>

    <h2> Détails de la commande </h2>
    <ul th:each="d: ${detailCommandes}">
        <li th:text="${'Nom du produit : ' + d.id_produit.nom}"></li>
        <li th:text="${'Quantité : ' + d.quantite}"></li>
        <li th:text="${'Prix cumulé : ' + d.quantite*d.id_produit.prix}"></li>
        <li th:text="${'Prix total : ' + d.id_commande.prix_total}"></li>
    </ul>
</div>


<form th:object="${detailCommande}" th:action="@{/creation-commande}" method="post">

<!--    &lt;!&ndash; Champ Numero de commande&ndash;&gt;-->
<!--    <div>-->
<!--        <label for="commande">Numéro de la commande</label>-->
<!--        <input th:field="*{id_commande}" th:value="${lastIdCommande}" th:text="${commande.id_commande}">-->
<!--    </div>-->

    <!-- Champ etat -->
    <div>
        <label for="etat">Type de produit</label>
        <select th:field="*{id_produit}">
            <option th:each="produit: ${produits}" th:value="${produit.id_produit}"
                    th:text="${produit.nom}"></option>
        </select>
    </div>

    <!-- Champ quantité-->
    <div>
        <label for="quantite">Quantité :</label>
        <input th:field="*{quantite}" type="number" value="30" placeholder="Saisir la quantité">
    </div>

    <!-- Bouton submit -->
    <div>
        <input type="submit" value="Enregister">
    </div>

</form>
<a th:href="@{'/details-detail-commande/' + ${commande.id_commande}}">Etape final</a>
</body>
</html>